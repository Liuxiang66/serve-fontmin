<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title> serve-fontmin-demo </title>
    <style>
        pre {
            font-family: "SentyTEA-Platinum-Subset";
        }
    </style>
</head>

<body>
<article>
<pre>
几点钟 结束梦 他按下闹钟
如往常 开始了一天生活
忙工作 忙收获 早餐吃什麼
他和他 维持齿轮的脉搏

汗水在他的身上化成了彩虹
步伐节奏延续生命的河流
默默在岗位战斗的每个小小英雄
富有和贫穷 卑微和伟大相同
他从不害怕自己被人群淹没
中午吃便当是他最大享受
</pre>
</article>

<script>

    function loadCss(url) {
        var link = document.createElement('link');
        link.setAttribute('rel', 'stylesheet');
        link.setAttribute('type', 'text/css');
        link.setAttribute('href', url);

        var parent = document.getElementsByTagName('head')[0]
            || document.body;
        parent.appendChild(link);
    }

    var text = document.querySelector('article').innerText;
    var fontminAPI = 'http://127.0.0.1:8090/static/';
    var fontName = 'SentyTEA-Platinum';
    var cssExt = '.css';
    var customName = 'SentyTEA-Platinum-Subset';
    var cssUrl = fontminAPI + fontName + cssExt + '?text=' + text + '&name=' + customName;

    loadCss(cssUrl);

</script>

</body>
</html>
